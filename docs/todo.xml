<NAME>ScummVM current areas of focus</NAME>
<DESC>This page is the current TODO list for ScummVM.</DESC>
<BODY>
		<style>
			h2 {
				margin-bottom: 0px;
			}
			h3 {
				margin-bottom: 0px;
			}

			ul {
				padding-bottom: 10px;
			}
		</style>

		<h1>ScummVM current areas of focus</h1>
		
		<h2>Introduction</h2>
		<p>
			If you want to dig in, this is the place to find out what we're
			currently working on (or hoping somebody will pick it up for us,
			you never know). This is the stuff where you might make the most
			useful contribution, right now. Note that this is never complete,
			and may be partially outdated, so just because you don't see it
			here doesn't mean it is not important.
		</p>
		<p>Before you start work on something, you might want to talk to
			somebody from the team. This will help us to prevent double work,
			i.e. several people working on the same stuff at once without
			knowing about each other.
		</p>
		<p>
			Finally, always make sure to check out our <a href="http://sourceforge.net/tracker/?atid=418820&group_id=37116&func=browse">bug tracker</a>
			and our <a href="http://sourceforge.net/tracker/?atid=418823&group_id=37116&func=browse">feature request tracker</a>
			for things that need work.
		</p>
		
		<h2>Upcoming milestones</h2>
		<p>Note that the following list is in no way set to stone and can be modified in the future.</p>
		<ul>
		<li> 0.2.4: New GUI used instead of old GUI</li>
		<li> 0.2.6: Launcher dialog implemented</li>
		<li> 0.2.8: All supported games next to bug free</li>
		<li> 0.3.0: New save game system</li>
		<li> 0.4.0: The Dig fully supported</li>
		<li> 0.4.5: Indiana Jones and The Last Crusade supported, more bugfixes</li>
		<li> 0.5.0: Full Throttle supported, basic CMI and Maniac Mansion support</li>
		<li> 0.6.0: More work on CMI, MM and further bugfixes</li>
		<li> 0.7.0: Maniac Mansion completable, Zak McCracken and Loom16 playable</li>
		<li> 0.8.0: Zak McCracken and Loom16 completable</li>
		<li> 0.9.0: Bugfixes and CMI completable</li>
		<li> 1.0.0: The end of the beginning</li>
		</ul>

		<h3>General</h3>
		<ul>
			<li><p><b>Rewrite sound code so that the Adlib and MIDI encoders can be active at the same time.</b></p></li>
			<ul>
				<li>This will help in a few cases where games have a few tracks only available in Adlib format</li>
				<li>Necessary if we want to allow users to switch between different games at runtime</li>
			</ul>
			</li>
			<li>
				<p><b>Make it possible to change the size of the OSystem screen</b></p>
				<p>Right now this is not needed. But for the <a href="#launcher">launcher dialog</a>,
				we will need this: at the time it is shown, we don't know yet which game is going to
				run, thus we can't determine the final screen size (320x200, 320x240 or 640x480 for CMI).
				Thus we must have a way to change it later on. At least for the SDL backend that should
				be no issue.
				</p>
			</li>
			<li>
				<p><b>Implement a new save system</b></p>
				<p>The current save system is quite messy, and whenever we have to change something, we must
				break save game compatibility. Hence a new system should be implemented. If we use
				a key based approach (that is, entries are not stored at a fixed position, but rather
				are found using a "key string"), we can easily add/remove elements while still allowing
				for older save games to be read.
				</p>
				<p>Another thing that might help would be if all objects (e.g. Actor) would contain
				the code necessary to read/write itself to/from an archive stream. This would
				make the whole approach more modular and easier to maintain.
				</p>
				<p>Please talk to Fingolfin if you want to work on this.
				</p>
			</li>
			<li><p>Make it possible to restart (scumm) games</p></li>
			<li><p>Allow the user to choose between multiple video drivers at startup when multiple choices are possible.
			E.g. between SDL vs. SDL_gl. Just like one can choose a midi driver. Currently one has to recompile for this.</p></li>
			<li><p>Add a "help" ingame dialog which lists key shortcuts etc.</p></li>
		</ul>
		<h3>New GUI</h3>
		<ul>
			<li><p><b>Make the NewGUI code independent from the Scumm parts</b></p>
				<p>We are fairly close towards this goal already. Some things that still have to be done:</p>
				<ul>
				<li>make NewGUI use its own event loop  (this will also fix the problem with the GUI during Smush movies)</li>
				<li>add an abstraction for sound pausing) (not really necessary, we could just pause sound before we enter the GUI, then afterwards unpause...)</li>
				<li>add getWidth() / getHeight() accessors to OSystem (so that we don't have to use _realHeight and _realWidth anymore)</li>
				</ul>
			</li>
			<li>
				<p><b>In NewGUI and the overlay code, deal with 555 vs. 565 16biz modes.</b></p>
				<p>E.g. on my system in windowed mode, it's 565 - but in fullscreen it is 555.
				Maybe we can add another accesor to OSystem that returns which mode the overlay
				is in, then NewGUI can do its drawing accordingly...
				</p>
			</li>
			<li><a name="launcher"></a><b>Implement a launcher dialog</b> that shows up at the start and allows the user to specify
			which game to play. At first this could just allow the user to type in a command line;
			better versions would offer a list of games we know about, etc.</li>
			<li>Implement old dialogs (About, Options, Keys, ...)</li>
			<li>Implement an edit field widget</li>
			<li>Implement a generic error/warning/message dialog ("alert box")</li>
			<li><i>Ask: Fingolfin, Ender, painelf</i></li>
		</ul>
		<h3>Specific games</h3>
		<ul>
			<li><h4>The DIG</h4>
			<ul>
				<li>Graphic and logic problems</li>
				<li>Game crashes at various points, due to vertical scrolling and unsupported features</li>
				<li>Walkscript misbehaves (currently bypassed in CVS)</li>
				<li>No in-game music</li>
				<li>Some animations play incorrectly</li>
				<li>See also <a href="http://scummvm.sourceforge.net/compatibility.php?details=dig">http://scummvm.sourceforge.net/compatibility.php?details=dig</a></li>
				<li><i>Ask: Yazoo, Ender</i></li>
			</ul>
			<li><h4>Monkey1VGA</h4>
			<ul>
				<li>Mainly graphical problems</li>
				<li><i>Ask: MadMoose, Fingolfin</i></li>
			</ul>
			<li><h4>Zak256</h4>
			<ul>
				<li>Incomplete music and sound effect support (Ender can help you get effects done)</li>
				<li><i>Ask: Ender</i></li>
			</ul>
			<li><h4>Full Throttle</h4>
			<ul>
				<li>Doesn't handle virtual rooms/resources properly
				<li>From <a href="http://scummvm.sourceforge.net/compatibility.php?details=ft">http://scummvm.sourceforge.net/compatibility.php?details=ft</a>
				<ul>
					<li>Game crashes at various points, due to missing SCUMM opcodes</li>
					<li>Some palette glitches during movie playback</li>
					<li>Some in-game music not working</li>
					<li>Some animations play incorrectly</li>
				</ul>
				<li><i>Ask: Yazoo, khalek</i></li>
			</ul>
			<li><h4>Sam and Max</h4>
			<ul>
				<li>There is something wrong with the object layering (see <a href="http://sourceforge.net/tracker/index.php?func=detail&aid=556498&group_id=37116&atid=418820">#556498</a>)</li>
				<li>iMuse needs work</li>
				<li><i>Ask: Ender</i></li>
			</ul>
			<li><h4>Indiana Jones and The Last Crusade</h4>
			<ul>
				<li>Many issues in here right from the start</li>
				<li>Sometimes actors are drawing incomplete (e.g. the head is often missing)</li>
				<li>Indy often refuses to follow clicks immediately, telling the player that he couldn't reach the target.
				Clicking again several times usually helps (this might be caused by the Indy3 walkboxes not always being connected?!?)</li>
				<li><i>Ask: ???</i></li>
			</ul>
			<li><h4>Simon</h4>
			<ul>
				<li>There are many open bugs for Simon, we really need somebody who can take over maintaining the Simon part of ScummVM</li>
				<li><i>Ask: ???</i></li>
			</ul>
		</ul>
</BODY>
