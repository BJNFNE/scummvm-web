<NAME>Curse of Monkey Island - Known issues</NAME>
<DESC>This is a list of current issues that need in SCUMM V8 support</DESC>
<BODY>
	<style>
		h2 {
			margin-bottom: 0px;
		}
		h3 {
			margin-bottom: 0px;
		}

		ul {
			padding-bottom: 10px;
		}
	</style>
<center><b>Status: Part 1/2 fully playable, part 3 playable with graphical glitches if ship-to-ship combat is cheated past</b></center>
<ul>
<li>Generic:
	<ul>
		<li>Lack of actorHit opcode breaks collision detection in ship-to-ship combat
		<li>Something is screwy with the cannon physics in ship-to-ship combat. You hit yourself. 
		(but the script still thinks you have won :)
	</ul>
<li>Sound:
	<ul>
		<li>No SMUSH Audio: aquadran is working on this one
		<li>Voices 'pop'
		<li>Occasional crashes from 'sound que buffer overflow' (hard to reproduce)
		<li>Lack of imGetMusicPosition kernel function breaks song sync in Part 3 intro
		<li>Failed assertion when using shift w to win. 
		scumm/bundle.cpp:318: int32 Bundle::decompressMusicSampleByIndex(int, int, byte *, int32 &): Assertion `num <= 3361' failed.
		<li>Failed assertion during Murray's dialogue after getting anchor. scumm/bundle.cpp:263: int32 Bundle::decompressVoiceSampleByIndex(int, byte *, int32 &): Assertion `num <= 50' failed. See http://users.bigpond.net.au/tgray2/comi.s01 for a save.
	</ul>
<li>Graphics:
	<ul>
		<li>Some text does not undraw correctly, again leaving behind artifacts
		<li>Masking artifacts. See many animations, eg during insult sword fighting
	</ul>
<li>Conversation:
	<ul>
		<li>The background of the conversation verbs is not redrawn properly. Specifically,
		if they are above actors, the actors are not always drawn when the verb is redrawn. Some parts of the conversation 
		verbs are clipped (eg, bottom of g's), leading me to believe that their clipping rectangles are incorrect.
	</ul>
<li>Inventory:
	<ul>
		<li>Upon combining two items in such a way as to reduce a two-page inventory to a one-page, trying to select the last 
		item will actually return the second-last item
	</ul>
<li>Actor:
	<ul>
		<li>o8_getActorChore still seems to be returning dodgy results
		<li>setActorChoreLimbFrame isn't quite correct, eg Wallys animation after throwing the hook will show a few phantom
		frames of his 'throw hook' and 'standing at cannon' animation
		<li>Lack of MouthSync and MuaicMouthSync stuff causes odd actor speech animations 
		(CVS hacked to generate random values... it's wrong, it's not synced, but it look betters than nothing)
		<li>Actor 1 (Guybrush) occasionally gets stuck (e.g. after taking Wally's fake hook). Can work-around with console
		command "actor 1 ignoreboxes 1"
	</ul>
</ul>

</BODY>
